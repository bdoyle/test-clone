<div ng-include="'components/navbar/navbar.html'"></div>
<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>
<div id="loading" ng-class="{active:loading}">
  <i class="fa fa-gear fa-spin"></i>
</div>
<div class="container" style="margin-top: 15px;">
  <!-- Error Feedback -->
  <p class="bg-danger" ng-show="error">{{error}}</p>
  <!-- Ratings table -->
  <div class="col-lg-12">
    <table class="table table-striped">
      <thead>
        <tr>
          <th><a ng-click="order='-rating'">Rating</a></th>
          <th><a ng-click="order='book'">Book Name</a></th>
          <th>ISBN13</th>
          <th><a ng-click="order='userName'">User</a></th>
        </tr>
      </thead>
      <tbody>
        <tr ng-repeat="rating in ratings | orderBy:order">
          <td>
            <i class="fa fa-star" ng-show="1 <= rating.rating"></i>
            <i class="fa fa-star" ng-show="2 <= rating.rating"></i>
            <i class="fa fa-star" ng-show="3 <= rating.rating"></i>
            <i class="fa fa-star" ng-show="4 <= rating.rating"></i>
            <i class="fa fa-star" ng-show="5 <= rating.rating"></i>
          </td>
          <td>{{ rating.book }}</td>
          <td>{{ rating.isbn13 }}</td>
          <td><a href="/profile/{{ rating.user }}">{{ rating.userName }}</a></td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p>CS 4550 Final Project</p>
  </div>
</footer>